# üß™ –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ BudgetBuddy

–ö–æ–º–ø–ª–µ–∫—Å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤—Å–µ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –≤–∫–ª—é—á–∞—è –ø–æ–∏—Å–∫, API –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å.

## üìã –û–±–∑–æ—Ä

–≠—Ç–æ—Ç –Ω–∞–±–æ—Ä –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø—Ä–æ–≤–æ–¥–∏—Ç—å –ø–æ–ª–Ω–æ–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:

- **API Tests** - —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö API endpoints
- **Search Tests** - —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–∏—Å–∫–∞
- **UI Tests** - —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
- **Security Tests** - —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –ø–æ–∏—Å–∫–∞
- **Performance Tests** - —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

## üõ†Ô∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ node-fetch –¥–ª—è —Ç–µ—Å—Ç–æ–≤
npm install --save-dev node-fetch

# –ò–ª–∏ –≥–ª–æ–±–∞–ª—å–Ω–æ
npm install -g node-fetch
```

### 2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–ø—É—â–µ–Ω–æ

```bash
# –í –æ–¥–Ω–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ
npm run dev
```

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤

```bash
# –í –¥—Ä—É–≥–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ
cd functional-testing
node run-all-tests.js
```

### –ó–∞–ø—É—Å–∫ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –Ω–∞–±–æ—Ä–æ–≤ —Ç–µ—Å—Ç–æ–≤

```bash
# –¢–æ–ª—å–∫–æ API —Ç–µ—Å—Ç—ã
node run-functional-tests.js

# –¢–æ–ª—å–∫–æ —Ç–µ—Å—Ç—ã –ø–æ–∏—Å–∫–∞
node search-tests.js

# –¢–æ–ª—å–∫–æ UI —Ç–µ—Å—Ç—ã
node ui-tests.js
```

## üìä –¢–∏–ø—ã —Ç–µ—Å—Ç–æ–≤

### 1. API Tests (`run-functional-tests.js`)

**–ü—Ä–æ–≤–µ—Ä—è–µ—Ç:**
- ‚úÖ Health endpoint
- ‚úÖ –ü–æ–ª—É—á–µ–Ω–∏–µ —Ä–µ–ª–∏–∑–æ–≤
- ‚úÖ –ü–æ–∏—Å–∫ —Ä–µ–ª–∏–∑–æ–≤
- ‚úÖ –ü–æ–ª—É—á–µ–Ω–∏–µ —Ä–µ–ª–∏–∑–∞ –ø–æ ID
- ‚úÖ –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç—Ä–µ–∫–æ–≤ —Ä–µ–ª–∏–∑–∞
- ‚úÖ –ü–æ–ª—É—á–µ–Ω–∏–µ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–µ–π
- ‚úÖ –ü–æ–∏—Å–∫ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–µ–π
- ‚úÖ –ü–æ–ª—É—á–µ–Ω–∏–µ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è –ø–æ ID
- ‚úÖ –ü–æ–ª—É—á–µ–Ω–∏–µ —Ä–µ–ª–∏–∑–æ–≤ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è
- ‚úÖ –ü–æ–ª—É—á–µ–Ω–∏–µ –∫–æ–ª–ª–µ–∫—Ü–∏–π
- ‚úÖ –ü–æ–ª—É—á–µ–Ω–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤
- ‚úÖ –ü–æ–ª—É—á–µ–Ω–∏–µ —Ä–µ–π—Ç–∏–Ω–≥–æ–≤
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
- ‚úÖ Rate Limiting
- ‚úÖ CSRF –∑–∞—â–∏—Ç–∞

### 2. Search Tests (`search-tests.js`)

**–ü—Ä–æ–≤–µ—Ä—è–µ—Ç:**
- üîç –ü–æ–∏—Å–∫ —Ä–µ–ª–∏–∑–æ–≤ —Å —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ –∑–∞–ø—Ä–æ—Å–∞–º–∏
- üîç –ü–æ–∏—Å–∫ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–µ–π
- üîç –û–±—â–∏–π –ø–æ–∏—Å–∫ (—Ä–µ–¥–∏—Ä–µ–∫—Ç)
- üîç –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
- üîç –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã –∏ Unicode
- üîç –î–ª–∏–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã
- üîç SQL injection –ø–æ–ø—ã—Ç–∫–∏
- üîç XSS –ø–æ–ø—ã—Ç–∫–∏
- ‚ö° –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø–æ–∏—Å–∫–∞
- üõ°Ô∏è –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –ø–æ–∏—Å–∫–∞

**–¢–µ—Å—Ç–æ–≤—ã–µ —Å–ª—É—á–∞–∏:**
- –ü—É—Å—Ç—ã–µ –∑–∞–ø—Ä–æ—Å—ã
- –û–¥–Ω–æ–±—É–∫–≤–µ–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã
- –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã
- –ü–æ–∏—Å–∫ –ø–æ –∂–∞–Ω—Ä—É/–≥–æ–¥—É
- –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã
- Unicode —Å–∏–º–≤–æ–ª—ã
- –ê—Ç–∞–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

### 3. UI Tests (`ui-tests.js`)

**–ü—Ä–æ–≤–µ—Ä—è–µ—Ç:**
- üè† –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
- üîå API endpoints –¥–ª—è UI
- üìÑ –ü–∞–≥–∏–Ω–∞—Ü–∏—è
- üîç –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è
- üìä –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞
- ‚ö° –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å UI
- üåê CORS –∑–∞–≥–æ–ª–æ–≤–∫–∏

## üìà –ú–µ—Ç—Ä–∏–∫–∏ –∏ –ø–æ—Ä–æ–≥–∏

### –í—Ä–µ–º—è –æ—Ç–∫–ª–∏–∫–∞
- **–ë—ã—Å—Ç—Ä–æ**: < 1000ms
- **–ü—Ä–∏–µ–º–ª–µ–º–æ**: 1000-3000ms
- **–ú–µ–¥–ª–µ–Ω–Ω–æ**: > 3000ms

### –£—Å–ø–µ—à–Ω–æ—Å—Ç—å —Ç–µ—Å—Ç–æ–≤
- **–û—Ç–ª–∏—á–Ω–æ**: ‚â• 95%
- **–•–æ—Ä–æ—à–æ**: 80-94%
- **–¢—Ä–µ–±—É–µ—Ç –≤–Ω–∏–º–∞–Ω–∏—è**: < 80%

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- **–ë–µ–∑–æ–ø–∞—Å–Ω–æ**: 0 –ø—Ä–æ–±–ª–µ–º –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- **–¢—Ä–µ–±—É–µ—Ç –≤–Ω–∏–º–∞–Ω–∏—è**: 1-2 –ø—Ä–æ–±–ª–µ–º—ã
- **–ö—Ä–∏—Ç–∏—á–Ω–æ**: > 2 –ø—Ä–æ–±–ª–µ–º

## üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

```bash
# URL –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: http://localhost:5000)
export TEST_BASE_URL=http://localhost:5000

# –¢–∞–π–º–∞—É—Ç –∑–∞–ø—Ä–æ—Å–æ–≤ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 10000ms)
export TEST_TIMEOUT=10000
```

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ç–µ—Å—Ç–æ–≤

–í—Å–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ –Ω–∞—á–∞–ª–µ –∫–∞–∂–¥–æ–≥–æ —Ñ–∞–π–ª–∞ —Ç–µ—Å—Ç–æ–≤:

```javascript
const config = {
  baseUrl: process.env.TEST_BASE_URL || 'http://localhost:5000',
  timeout: process.env.TEST_TIMEOUT || 10000
};
```

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

```
functional-testing/
‚îú‚îÄ‚îÄ README.md                    # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îú‚îÄ‚îÄ run-all-tests.js            # –ì–ª–∞–≤–Ω—ã–π —Å–∫—Ä–∏–ø—Ç –∑–∞–ø—É—Å–∫–∞ –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤
‚îú‚îÄ‚îÄ run-functional-tests.js     # API —Ç–µ—Å—Ç—ã
‚îú‚îÄ‚îÄ search-tests.js             # –¢–µ—Å—Ç—ã –ø–æ–∏—Å–∫–∞
‚îú‚îÄ‚îÄ ui-tests.js                 # UI —Ç–µ—Å—Ç—ã
‚îî‚îÄ‚îÄ reports/                    # –ü–∞–ø–∫–∞ —Å –æ—Ç—á–µ—Ç–∞–º–∏
    ‚îú‚îÄ‚îÄ all-tests-results.json
    ‚îú‚îÄ‚îÄ functional-test-results.json
    ‚îú‚îÄ‚îÄ search-test-results.json
    ‚îî‚îÄ‚îÄ ui-test-results.json
```

## üìä –ê–Ω–∞–ª–∏–∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

### JSON –æ—Ç—á–µ—Ç—ã

–ü–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ —Ç–µ—Å—Ç–∞ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –¥–µ—Ç–∞–ª—å–Ω—ã–π JSON –æ—Ç—á–µ—Ç:

```json
{
  "timestamp": "2024-01-01T12:00:00.000Z",
  "baseUrl": "http://localhost:5000",
  "summary": {
    "total": 15,
    "passed": 14,
    "failed": 1,
    "duration": 5000
  },
  "tests": [
    {
      "name": "Health endpoint",
      "status": "passed",
      "duration": 150,
      "assertions": [...]
    }
  ]
}
```

### –ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

#### ‚úÖ –£—Å–ø–µ—à–Ω—ã–µ —Ç–µ—Å—Ç—ã
- –í—Å–µ —É—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –ø—Ä–æ–π–¥–µ–Ω—ã
- HTTP —Å—Ç–∞—Ç—É—Å 200-299
- –í—Ä–µ–º—è –æ—Ç–∫–ª–∏–∫–∞ –≤ –ø—Ä–µ–¥–µ–ª–∞—Ö –Ω–æ—Ä–º—ã
- –î–∞–Ω–Ω—ã–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ —Ñ–æ—Ä–º–∞—Ç–∞

#### ‚ùå –ü—Ä–æ–≤–∞–ª–µ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã
- –û—à–∏–±–∫–∏ HTTP (4xx, 5xx)
- –ù–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö
- –ü—Ä–µ–≤—ã—à–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ –æ—Ç–∫–ª–∏–∫–∞
- –ü—Ä–æ–±–ª–µ–º—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

## üö® –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

#### 1. –°–µ—Ä–≤–µ—Ä –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω
```
‚ùå –°–µ—Ä–≤–µ—Ä –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω: connect ECONNREFUSED
```
**–†–µ—à–µ–Ω–∏–µ:**
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–ø—É—â–µ–Ω–æ: `npm run dev`
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ—Ä—Ç: –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 5000
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ URL –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

#### 2. –ú–µ–¥–ª–µ–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã
```
‚ö†Ô∏è –ú–µ–¥–ª–µ–Ω–Ω—ã–π –æ—Ç–∫–ª–∏–∫: 5000ms
```
**–†–µ—à–µ–Ω–∏–µ:**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- –û–ø—Ç–∏–º–∏–∑–∏—Ä—É–π—Ç–µ SQL –∑–∞–ø—Ä–æ—Å—ã
- –î–æ–±–∞–≤—å—Ç–µ –∏–Ω–¥–µ–∫—Å—ã
- –£–≤–µ–ª–∏—á—å—Ç–µ —Ä–µ—Å—É—Ä—Å—ã —Å–µ—Ä–≤–µ—Ä–∞

#### 3. –û—à–∏–±–∫–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏
```
‚ùå Assertion failed: –û—Ç–≤–µ—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –º–∞—Å—Å–∏–≤–æ–º
```
**–†–µ—à–µ–Ω–∏–µ:**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ API endpoints
- –ò—Å–ø—Ä–∞–≤—å—Ç–µ —Ñ–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–æ–≤
- –û–±–Ω–æ–≤–∏—Ç–µ —Å—Ö–µ–º—ã –≤–∞–ª–∏–¥–∞—Ü–∏–∏

#### 4. –ü—Ä–æ–±–ª–µ–º—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
```
‚ùå –û–±–Ω–∞—Ä—É–∂–µ–Ω –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–æ –æ–ø–∞—Å–Ω—ã–π –∫–æ–¥ –≤ –æ—Ç–≤–µ—Ç–µ
```
**–†–µ—à–µ–Ω–∏–µ:**
- –£–ª—É—á—à–∏—Ç–µ —Å–∞–Ω–∏—Ç–∏–∑–∞—Ü–∏—é –¥–∞–Ω–Ω—ã—Ö
- –î–æ–±–∞–≤—å—Ç–µ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—É—é –≤–∞–ª–∏–¥–∞—Ü–∏—é
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∑–∞—â–∏—Ç—É –æ—Ç XSS

## üîÑ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å CI/CD

### GitHub Actions

```yaml
name: Functional Tests
on: [push, pull_request]
jobs:
  test:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2
      - uses: actions/setup-node@v2
        with:
          node-version: '18'
      - run: npm install
      - run: npm run dev &
      - run: sleep 10
      - run: cd functional-testing && node run-all-tests.js
```

### –õ–æ–∫–∞–ª—å–Ω—ã–π pre-commit hook

```bash
#!/bin/bash
# .git/hooks/pre-commit
cd functional-testing
node run-all-tests.js
if [ $? -ne 0 ]; then
  echo "–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ–≤–∞–ª–µ–Ω—ã!"
  exit 1
fi
```

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- [Node.js Testing Best Practices](https://nodejs.org/en/docs/guides/testing/)
- [API Testing Guide](https://restfulapi.net/api-testing/)
- [Security Testing Checklist](https://owasp.org/www-project-web-security-testing-guide/)

## ü§ù –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º:

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Å–µ—Ä–≤–µ—Ä –¥–æ—Å—Ç—É–ø–µ–Ω
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é —Ç–µ—Å—Ç–æ–≤
4. –ò–∑—É—á–∏—Ç–µ –¥–µ—Ç–∞–ª—å–Ω—ã–µ –æ—Ç—á–µ—Ç—ã –≤ –ø–∞–ø–∫–µ reports/

---

**–£–¥–∞—á–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è! üöÄ**
